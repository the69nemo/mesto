(()=>{"use strict";var e=document.querySelector(".profile__btn"),t=document.querySelector(".popup_cards"),n=document.querySelector(".profile__button-add"),r=document.querySelector(".popup_image"),o=(r.querySelector(".popup__picture"),r.querySelector(".popup__figcaption"),document.querySelectorAll(".popup"),t.querySelector(".popup__save-button"),document.querySelector(".popup_avatar")),i=document.querySelector(".profile__avatar-overlay"),u=(o.querySelector(".popup__save-button"),".popup_confirm"),a=document.querySelector(u).querySelector(".popup__save-button"),c=document.querySelector(".profileContent"),s=document.querySelector(".addCardsContent"),l=document.querySelector(".popup__form-name"),f=document.querySelector(".popup__form-job"),p=(document.querySelector(".popup__form-card-name"),document.querySelector(".popup__form-card-url"),document.querySelector(".avatarContent")),h=document.querySelector(".profile__avatar"),d=document.querySelector(".profile__name"),_=document.querySelector(".profile__subtitle"),y=(document.querySelector(".element-template").content,{inputSelector:".popup__form-input",submitButtonSelector:".popup__save-button",inactiveButtonClass:"popup__save-button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"});function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=v((function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),b(this,"_showError",(function(e,t){var n=r._form.querySelector("#".concat(e.id,"-error"));n.textContent=t,n.classList.add(r._errorClass),e.classList.add(r._inputErrorClass)})),b(this,"_hideError",(function(e){var t=r._form.querySelector("#".concat(e.id,"-error"));t.textContent="",t.classList.remove(r._errorClass),e.classList.remove(r._inputErrorClass)})),b(this,"_hasInvalidInput",(function(){return r._inputs.some((function(e){return!e.validity.valid}))})),b(this,"_checkInputValid",(function(e){e.validity.valid?r._hideError(e):r._showError(e,e.validationMessage)})),b(this,"_setInputListeners",(function(){r._toggleButtonError(),r._inputs.forEach((function(e){e.addEventListener("input",(function(){r._checkInputValid(e),r._toggleButtonError()}))}))})),b(this,"_toggleButtonError",(function(){r._hasInvalidInput()?(r._button.classList.add(r._inactiveButtonClass),r._button.setAttribute("disabled","")):(r._button.classList.remove(r._inactiveButtonClass),r._button.removeAttribute("disabled"))})),b(this,"enableValidation",(function(){r._form.addEventListener("submit",(function(e){e.preventDefault()})),r._setInputListeners()})),b(this,"resetValidation",(function(){r._toggleButtonError(),r._inputs.forEach((function(e){return r._hideError(e)}))})),this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._form=n,this._inputs=Array.from(this._form.querySelectorAll(this._inputSelector)),this._button=this._form.querySelector(this._submitButtonSelector)}));function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var k=function(){function e(t){var n=this,r=t.card,o=t.selector,i=t.handleCardClick,u=t.userId,a=t.handleCardDelete,c=t.handleCardLike,s=t.handleCardDeleteLike;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=r.name,this._link=r.link,this._likes=r.likes,this._id=r._id,this._userId=u,this._ownerId=r.owner._id,this._selector=o,this._handleCardClick=i,this._handleCardDelete=a,this._handleCardLike=c,this._handleCardDeleteLike=s,this._template=document.querySelector(this._selector).content,this._cardsElement=this._template.querySelector(".element").cloneNode(!0),this._trash=this._cardsElement.querySelector(".element__trash-box-button"),this._like=this._cardsElement.querySelector(".element__button"),this._image=this._cardsElement.querySelector(".element__image"),this._title=this._cardsElement.querySelector(".element__title"),this._likeNumber=this._cardsElement.querySelector(".element__like-number"),this._isLike=this._likes.find((function(e){return e._id===n._userId})),this._ownerId!=this._userId&&this._trash.classList.add("element__trash-box-button_hidden")}var t,n;return t=e,(n=[{key:"_handleLike",value:function(){var e=this;(e._like.classList.contains("element__button_active")?e._handleCardDeleteLike():e._handleCardLike()).then((function(t){e._likes=t.likes,e._likeNumber.textContent=e._likes.length,e._like.classList.toggle("element__button_active")}))}},{key:"_addListeners",value:function(){var e=this;this._trash.addEventListener("click",(function(){e._handleCardDelete()})),this._like.addEventListener("click",(function(){e._handleLike()})),this._image.addEventListener("click",(function(){e._handleCardClick()}))}},{key:"generateCard",value:function(){return this._isLike&&this._like.classList.add("element__button_active"),this._title.textContent=this._name,this._image.src=this._link,this._image.alt=this._name,this._likeNumber.textContent=this._likes.length,this._cardsElement.id="card"+this._id,this._addListeners(),this._cardsElement}}])&&g(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var S=function(){function e(t,n){var r=t.items,o=t.renderer,i=t.userId;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._container=document.querySelector(n),this._userId=i}var t,n;return t=e,(n=[{key:"addItem",value:function(e){var t=this._renderer(e,this._userId);this._container.prepend(t)}},{key:"renderItem",value:function(){var e=this;this._items.forEach((function(t){e.addItem(t)}))}}])&&C(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),O(this,"_handleEscClose",(function(e){"Escape"==e.key&&n.close()})),O(this,"_handleButtonClose",(function(e){e.target.classList.contains("popup__opened")&&n.close(),e.target.classList.contains("popup__close-button")&&n.close()})),this._popup=document.querySelector(t)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup__opened"),this.setEventListeners()}},{key:"close",value:function(){this._popup.classList.remove("popup__opened"),this.removeEventListeners()}},{key:"setEventListeners",value:function(){document.addEventListener("keydown",this._handleEscClose),this._popup.addEventListener("click",this._handleButtonClose)}},{key:"removeEventListeners",value:function(){document.removeEventListener("keydown",this._handleEscClose),this._popup.removeEventListener("click",this._handleButtonClose)}}])&&E(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(){return I="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=q(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},I.apply(this,arguments)}function q(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=B(e)););return e}function R(e,t){return R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},R(e,t)}function A(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function B(e){return B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},B(e)}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=B(r);if(o){var n=B(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return A(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._name=t._popup.querySelector(".popup__figcaption"),t._image=t._popup.querySelector(".popup__picture"),t}return t=u,(n=[{key:"open",value:function(e){var t=e.link,n=e.name;this._image.src=t,this._image.alt=n,this._name.textContent=n,I(B(u.prototype),"open",this).call(this)}}])&&P(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(L);function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(){return F="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=N(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},F.apply(this,arguments)}function N(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=H(e)););return e}function V(e,t){return V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},V(e,t)}function U(e,t){if(t&&("object"===x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return J(e)}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e){return H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},H(e)}var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=H(r);if(o){var n=H(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return U(this,e)});function u(e,t){var n,r,o,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),a=function(e){e.preventDefault(),n._submitButton.textContent="Сохранение...",n._submit(n._getInputValues()).then((function(){return n.close()})).finally((function(){setTimeout((function(){n._submitButton.textContent="Сохранить"}),800)}))},(o="_handleSubmit")in(r=J(n=i.call(this,e)))?Object.defineProperty(r,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[o]=a,n._submit=t,n._form=n._popup.querySelector(".popup__content"),n._submitButton=n._popup.querySelector(".popup__save-button"),n._formInputs=n._form.querySelectorAll(".popup__form-input"),n}return t=u,(n=[{key:"_getInputValues",value:function(){var e=this;return this._allFormValues={},this._formInputs.forEach((function(t){e._allFormValues[t.name]=t.value})),this._allFormValues}},{key:"setEventListeners",value:function(){F(H(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",this._handleSubmit)}},{key:"removeEventListeners",value:function(){F(H(u.prototype),"removeEventListeners",this).call(this),this._form.removeEventListener("submit",this._handleSubmit)}},{key:"close",value:function(){this._form.reset(),F(H(u.prototype),"close",this).call(this)}}])&&D(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(L);function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var $=function(){function e(t){var n=t.userName,r=t.userJob,o=t.avatar,i=t.userId;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=n,this._job=r,this._avatar=o,this.userId=i}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,about:this._job.textContent}}},{key:"setUserInfo",value:function(e){var t=e.newName,n=e.newJob,r=e.newAvatar;t?this._name.textContent=t:this._name.textContent,t?this._job.textContent=n:this._job.textContent,r?this._avatar.src=r:this._avatar.src}}])&&z(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var K=function(){function e(t){var n=t.url,r=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._url=n,this._headers=r}var t,n;return t=e,(n=[{key:"_handleResponse",value:function(e){return e.ok?e.json():Promise.reject("Ошибка ".concat(e.status))}},{key:"getUserInfoFromApi",value:function(){var e=this;return fetch("".concat(this._url,"/users/me"),{headers:this._headers}).then((function(t){return e._handleResponse(t)}))}},{key:"getCardsFromApi",value:function(){var e=this;return fetch("".concat(this._url,"/cards"),{headers:this._headers}).then((function(t){return e._handleResponse(t)}))}},{key:"editProfileFromApi",value:function(e){var t=this;return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify(e)}).then((function(e){return t._handleResponse(e)}))}},{key:"postNewCardToServer",value:function(e){var t=this;return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify(e)}).then((function(e){return t._handleResponse(e)}))}},{key:"deleteCardFromServer",value:function(e){var t=this;return fetch("".concat(this._url,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then((function(e){return t._handleResponse(e)}))}},{key:"putLikesOnCardFromApi",value:function(e){var t=this;return fetch("".concat(this._url,"/cards/").concat(e,"/likes"),{method:"PUT",headers:this._headers}).then((function(e){return t._handleResponse(e)}))}},{key:"deleteLikesOnCardFromApi",value:function(e){var t=this;return fetch("".concat(this._url,"/cards/").concat(e,"/likes"),{method:"DELETE",headers:this._headers}).then((function(e){return t._handleResponse(e)}))}},{key:"patchAvatarFromApi",value:function(e){var t=this;return fetch("".concat(this._url,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then((function(e){return t._handleResponse(e)}))}}])&&G(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(){return X="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Y(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},X.apply(this,arguments)}function Y(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ne(e)););return e}function Z(e,t){return Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Z(e,t)}function ee(e,t){if(t&&("object"===Q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return te(e)}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e){return ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ne(e)}var re=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ne(r);if(o){var n=ne(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ee(this,e)});function u(e,t,n){var r,o,a,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),c=function(){r._confirmButton.textContent="Удаление...",r._submitHandler().then((function(){return r.close()})).finally((function(){setTimeout((function(){r._confirmButton.textContent="Да"}),800)}))},(a="_submitPopup")in(o=te(r=i.call(this,e)))?Object.defineProperty(o,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[a]=c,r._confirmButton=t,r._submitHandler=n,r}return t=u,(n=[{key:"setEventListeners",value:function(){X(ne(u.prototype),"setEventListeners",this).call(this),this._confirmButton.addEventListener("click",this._submitPopup)}},{key:"removeEventListeners",value:function(){X(ne(u.prototype),"removeEventListeners",this).call(this),this._confirmButton.removeEventListener("click",this._submitPopup)}}])&&W(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(L);function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ie=new w(y,s),ue=new w(y,c),ae=new w(y,p);ie.enableValidation(),ue.enableValidation(),ae.enableValidation();var ce=new K({url:"https://mesto.nomoreparties.co/v1/cohort-35",headers:{authorization:"8994131c-f4f1-45cc-a5e7-8627a23e5031","Content-Type":"application/json"}}),se={},le=new M(".popup_cards",(function(e){var t=e.nameCard,n=e.cardUrl;return ce.postNewCardToServer({name:t,link:n}).then((function(e){se.section.addItem(e)})).catch((function(e){return console.log("Ошибка связанная с добавление карточки: ".concat(e))}))})),fe=new T(".popup_image"),pe=new M(".popup_profile",(function(e){var t=e.newName,n=e.newJob;return ce.editProfileFromApi({name:t,about:n}).then((function(){se.userInfo.setUserInfo({newName:t,newJob:n})})).catch((function(e){return console.log("Ошибка связанная с изменениями данных профиля: ".concat(e))}))})),he=new M(".popup_avatar",(function(e){var t=e.avatarUrl;return ce.patchAvatarFromApi(t).then((function(e){se.userInfo.setUserInfo({newAvatar:e.avatar})})).catch((function(e){return console.log("Ошибка связанная со сменой аватара: ".concat(e))}))})),de=new re(u,a,(function(){var e=document.querySelector("#card".concat(se.cardId));return ce.deleteCardFromServer(se.cardId).then((function(){e.remove()})).catch((function(e){return console.log("Ошибка связанная с удалением карточки: ".concat(e))}))})),_e=function(e){return new k({card:e,selector:".element-template",handleCardClick:function(){return fe.open(e)},userId:se.userInfo.userId,handleCardDelete:function(){return t=e._id,se.cardId=t,void de.open();var t},handleCardLike:function(){return t=e._id,ce.putLikesOnCardFromApi(t).catch((function(e){return console.log("Ошибка связанная с простановкой лайков: ".concat(e))}));var t},handleCardDeleteLike:function(){return t=e._id,ce.deleteLikesOnCardFromApi(t).catch((function(e){return console.log("Ошибка связанная с удалением лайков: ".concat(e))}));var t}}).generateCard()};Promise.all([ce.getUserInfoFromApi(),ce.getCardsFromApi()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oe(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];se.userInfo=new $({userName:d,userJob:_,avatar:h,userId:o._id}),se.userInfo.setUserInfo({newName:o.name,newJob:o.about,newAvatar:o.avatar}),se.section=new S({items:i.reverse(),renderer:_e,userId:se.userInfo.userId},".elements"),se.section.renderItem()})).catch((function(e){return console.log("Ошибка в создании карточек: ".concat(e))})),n.addEventListener("click",(function(){ie.resetValidation(),le.open()})),e.addEventListener("click",(function(){var e=se.userInfo.getUserInfo();l.value=e.name,f.value=e.about,ue.resetValidation(),pe.open()})),i.addEventListener("click",(function(){ae.resetValidation(),he.open()}))})();